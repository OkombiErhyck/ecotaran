{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dobre\\\\OneDrive\\\\Desktop\\\\Erhyck\\\\Eco Taran\\\\my-app\\\\src\\\\PhotosUpLoader.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./PhotosUploader.css\";\nimport Image from \"./image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PhotosUpLoader(_ref) {\n  _s();\n  let {\n    addedPhotos,\n    onChange\n  } = _ref;\n  const [isLoading, setIsLoading] = useState(false);\n  function uploadPhoto(ev) {\n    const files = ev.target.files;\n    setIsLoading(true);\n    for (let i = 0; i < files.length; i++) {\n      const data = new FormData();\n      data.append(\"photo\", files[i]);\n      axios.post(\"/upload\", data, {\n        headers: {\n          \"Content-type\": \"multipart/form-data\"\n        }\n      }).then(response => {\n        const {\n          data: filename\n        } = response;\n        onChange(prev => {\n          return [...prev, filename];\n        });\n        setIsLoading(false);\n      }).catch(error => {\n        console.error(error);\n        setIsLoading(false);\n      });\n    }\n  }\n  function removePhoto(ev, filename) {\n    ev.preventDefault();\n    onChange([...addedPhotos.filter(photo => photo !== filename)]);\n  }\n  function selectAsMainPhoto(ev, filename) {\n    ev.preventDefault();\n    const addedPhotosWithoutSelected = addedPhotos.filter(photo => photo !== filename);\n    const newAddedPhotos = [filename, ...addedPhotosWithoutSelected];\n    onChange(newAddedPhotos);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        className: \"pt\",\n        onChange: uploadPhoto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"se incarca...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 23\n      }, this), addedPhotos.length > 0 && addedPhotos.map(link => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"holder\",\n        style: {\n          position: \"relative\",\n          width: \"275px\",\n          height: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          className: \"img1\",\n          src: link\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: ev => removePhoto(ev, link),\n          class: \"my-button\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"svg\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            \"stroke-width\": \"1.5\",\n            stroke: \"currentColor\",\n            class: \"w-1 h-1\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              \"stroke-linecap\": \"round\",\n              \"stroke-linejoin\": \"round\",\n              d: \"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: ev => selectAsMainPhoto(ev, link),\n          class: \"my-button2\",\n          children: [link === addedPhotos[0] && /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"svg\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            class: \"w-6 h-6\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              \"fill-rule\": \"evenodd\",\n              d: \"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z\",\n              \"clip-rule\": \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), link !== addedPhotos[0] && /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"svg\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            \"stroke-width\": \"1.5\",\n            stroke: \"currentColor\",\n            class: \"w-6 h-6\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              \"stroke-linecap\": \"round\",\n              \"stroke-linejoin\": \"round\",\n              d: \"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }, this)]\n      }, link, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(PhotosUpLoader, \"EmvgwIb3cHpoFpeP+WmEDbjx4y4=\");\n_c = PhotosUpLoader;\nvar _c;\n$RefreshReg$(_c, \"PhotosUpLoader\");","map":{"version":3,"names":["axios","useState","Image","jsxDEV","_jsxDEV","Fragment","_Fragment","PhotosUpLoader","_ref","_s","addedPhotos","onChange","isLoading","setIsLoading","uploadPhoto","ev","files","target","i","length","data","FormData","append","post","headers","then","response","filename","prev","catch","error","console","removePhoto","preventDefault","filter","photo","selectAsMainPhoto","addedPhotosWithoutSelected","newAddedPhotos","children","type","multiple","className","fileName","_jsxFileName","lineNumber","columnNumber","map","link","style","position","width","height","src","onClick","class","xmlns","fill","viewBox","stroke","d","_c","$RefreshReg$"],"sources":["C:/Users/dobre/OneDrive/Desktop/Erhyck/Eco Taran/my-app/src/PhotosUpLoader.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport \"./PhotosUploader.css\";\r\nimport Image from \"./image\";\r\n\r\nexport default function PhotosUpLoader({addedPhotos,onChange}) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function uploadPhoto(ev) {\r\n    const files = ev.target.files;\r\n    setIsLoading(true);\r\n  \r\n    for (let i = 0; i < files.length; i++) {\r\n      const data = new FormData();\r\n      data.append(\"photo\", files[i]);\r\n      axios.post(\"/upload\", data, {\r\n        headers: {\"Content-type\": \"multipart/form-data\"}\r\n      }).then(response => {\r\n        const {data:filename} = response;\r\n        onChange(prev => {\r\n          return[...prev, filename];\r\n        });\r\n        setIsLoading(false);\r\n      }).catch(error => {\r\n        console.error(error);\r\n        setIsLoading(false);\r\n      });\r\n    }\r\n  }\r\n  \r\n\r\n  function removePhoto(ev,filename) {\r\n    ev.preventDefault();\r\n    onChange([...addedPhotos.filter(photo => photo !== filename)]);\r\n  }\r\n\r\n  function selectAsMainPhoto(ev,filename) {\r\n    ev.preventDefault();\r\n    const addedPhotosWithoutSelected = addedPhotos\r\n    .filter(photo => photo !== filename);\r\n    const newAddedPhotos =[filename,...addedPhotosWithoutSelected];\r\n    onChange(newAddedPhotos);\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <label>\r\n        <input type=\"file\"  multiple className=\"pt\" onChange={uploadPhoto}/>\r\n        {isLoading && <div className=\"loading\">se incarca...</div>}\r\n        {addedPhotos.length > 0 && addedPhotos.map(link => (\r\n          <div className=\"holder\" key={link} style={{ position: \"relative\", width: \"275px\", height: \"auto\" }}>\r\n            <Image className=\"img1\" src={link}  />\r\n            <button onClick={ev => removePhoto(ev,link)} class=\"my-button\"> \r\n              <svg  className=\"svg\"  xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-1 h-1\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\" />\r\n                  </svg>\r\n                  </button>\r\n                  <button onClick={ev => selectAsMainPhoto(ev,link)} class=\"my-button2\"> \r\n                  {link === addedPhotos[0] && ( \r\n                    <svg  className=\"svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"w-6 h-6\">\r\n                   <path fill-rule=\"evenodd\" d=\"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z\" clip-rule=\"evenodd\" />\r\n                  </svg>\r\n                  \r\n                  )}\r\n                  {link !== addedPhotos[0] && (\r\n                    <svg className=\"svg\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\r\n                   <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z\" />\r\n                  </svg>\r\n\r\n                  )}\r\n                  </button>\r\n                </div>\r\n\r\n            ))}\r\n            </label>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}